<!doctype html>
<html lang="pt-br">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Auth Check</title>
<style>
  body{font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;padding:16px}
  input,button{font:inherit;padding:.6rem .8rem;margin:.25rem 0}
  pre{white-space:pre-wrap;background:#111;color:#0f0;padding:12px;border-radius:8px}
  .err{color:#b00020}
</style>

<h1>Auth Check</h1>
<p>Este teste usa o <code>config.js</code> do projeto publicado.</p>

<label>Email<br><input id="email" type="email" value="zelador@vivendas.com"></label><br>
<label>Senha<br><input id="pass" type="password" value="12345678"></label><br>
<button id="go">Entrar</button>

<h3>Config detectada</h3>
<pre id="cfg"></pre>

<h3>Resultado</h3>
<pre id="out"></pre>

<script type="module">
  import { CONFIG } from './config.js?v=27';
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
  import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js";

  document.getElementById('cfg').textContent = JSON.stringify(CONFIG.firebaseConfig, null, 2);

  const app = initializeApp(CONFIG.firebaseConfig);
  const auth = getAuth(app);

  document.getElementById('go').onclick = async ()=>{
    const email = document.getElementById('email').value.trim();
    const pass  = document.getElementById('pass').value;
    const outEl = document.getElementById('out');
    outEl.textContent = '...';
    try{
      const { user } = await signInWithEmailAndPassword(auth, email, pass);
      outEl.textContent = 'OK: ' + user.email;
    }catch(e){
      outEl.textContent = 'ERRO:\n' + 'code: ' + e.code + '\nmessage: ' + e.message;
    }
  };
</script>
</html>