/* —— Base / Tema —— */
*{box-sizing:border-box}
html{-webkit-tap-highlight-color: transparent}
body{margin:0;overflow-x:hidden;background:linear-gradient(180deg,#f7fbff 0%,#e9f2fb 40%,#dfefff 100%);color:#0f2333;font:400 16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
:root{
  --ink:#102538;--muted:#5a7186;--surface:#fff;--surface-2:#f2f7fc;--line:#e5eff8;
  --brand-1:#0B74B8;--brand-2:#18c07a;--ok:#18c07a;--danger:#e53935;
  --radius:14px;--gap:14px;--shadow:0 6px 24px rgba(15,35,51,.12);--ring:0 0 0 3px color-mix(in srgb,var(--brand-1) 24%,transparent)
}
/* Topbar */
.topbar{position:sticky;top:0;z-index:20;background:linear-gradient(90deg,var(--brand-1),var(--brand-2));padding:12px min(5vw,24px);color:#fff;box-shadow:var(--shadow)}
.brand{display:flex;align-items:center;gap:10px;font-weight:800}
.actions{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
.user{margin-left:auto;opacity:.95}
/* Botões */
.btn{appearance:none;border:1px solid var(--line);background:var(--surface);color:var(--ink);border-radius:12px;padding:12px 16px;min-height:44px;cursor:pointer}
.btn:hover{filter:brightness(1.03)} .btn:focus-visible{outline:none;box-shadow:var(--ring)}
.btn.primary{border:0;color:#fff;background:linear-gradient(90deg,var(--brand-1),var(--brand-2))}
.btn.ghost{background:transparent} .btn.link{background:transparent;border:0;color:#fff;text-decoration:underline} .btn.danger{border:0;color:#fff;background:var(--danger)}
/* Layout */
.container{padding:min(5vw,24px)}
.card{background:var(--surface);border:1px solid var(--line);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow)}
.max-480{max-width:480px;margin-inline:auto}
/* Hero mais forte e sem texto duplicado */
.hero{padding:8px 0}
.hero img{display:block;width:160px;max-width:60vw;margin:6px 10px;border-radius:12px;box-shadow:0 8px 26px rgba(11,116,184,.25)}
/* Métricas */
.metrics{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--gap);margin:14px 0}
.metric-card{background:var(--surface);border:1px solid var(--line);border-radius:12px;padding:10px 12px;text-align:center}
.metric-k{font-size:.82rem;color:var(--muted)} .metric-v{font-weight:800;font-size:1.6rem}
/* Filtros */
.toolbar{margin:14px 0;padding:12px;background:var(--surface-2)}
.filters{display:grid;grid-template-columns:1fr 1fr auto auto;gap:10px}
.filters label{display:flex;flex-direction:column;gap:6px}
input,select,textarea{background:#fff;border:1px solid var(--line);color:var(--ink);border-radius:12px;padding:12px;min-height:44px}
textarea{min-height:120px}
/* Cards */
.cards{display:grid;gap:var(--gap)}
.party-card{background:#fff;border:1px solid var(--line);border-radius:12px;padding:14px}
.party-head{display:flex;align-items:center;gap:10px;justify-content:space-between;margin-bottom:8px}
.badge{background:color-mix(in srgb,var(--brand-1) 15%, #fff);color:var(--ink);padding:6px 10px;border-radius:999px;font-size:.82rem;border:1px solid var(--line)}
.kv{display:flex;justify-content:space-between;gap:10px;margin:3px 0;color:var(--muted)}
.chip{background:var(--surface-2);border:1px solid var(--line);padding:6px 10px;border-radius:999px;font-size:.85rem;margin:6px 6px 0 0;display:inline-block}
.row-actions{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-top:10px}
.row-actions .btn.danger{grid-column:1/-1}
/* Tabela (esconde no mobile) */
.table-wrapper{overflow:auto}
.table{width:100%;border-collapse:separate;border-spacing:0}
.table th,.table td{padding:12px;border-bottom:1px solid var(--line);text-align:left}
@media (max-width:820px){.table-wrapper{display:none}}
/* Diálogos */
dialog{border:0;border-radius:12px;background:#fff;color:var(--ink);box-shadow:var(--shadow);width:min(860px,96vw)}
.dialog-header{padding:10px 14px;border-bottom:1px solid var(--line)}
.dialog-actions{display:flex;gap:10px;justify-content:flex-end}
.form .grid.two{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.form .grid.five{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
.materials{border:1px dashed var(--line);background:var(--surface-2);border-radius:12px;padding:10px 12px;margin:10px 0}
@media (max-width:700px){.form .grid.two{grid-template-columns:1fr}.form .grid.five{grid-template-columns:repeat(2,1fr)}}
/* Calendário */
.calendar{padding:14px;background:#fff;border:1px solid var(--line)}
.cal-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.cal-title{font-weight:800}
.cal-grid{display:grid;grid-template-columns:repeat(7,minmax(0,1fr));gap:8px}
.cal-dow{color:var(--muted);font-size:.85rem;text-align:center}
.cal-cell{background:var(--surface-2);border:1px solid var(--line);border-radius:12px;min-height:58px;position:relative}
.cal-cell.cal-today{outline:2px solid var(--ok)}
.cal-cell.cal-out{opacity:.5}
.cal-date{position:absolute;top:8px;left:10px;font-weight:700;color:var(--ink);opacity:.9}
/* NOVO: só um ponto para indicar que há festa */
.cal-mark{position:absolute;left:50%;bottom:8px;transform:translateX(-50%);width:8px;height:8px;border-radius:999px;background:var(--brand-1);box-shadow:0 0 0 2px #fff}
.cal-hit{all:unset;cursor:pointer;display:block;width:100%;height:100%;border-radius:12px}
.cal-hit:focus-visible{outline:none;box-shadow:var(--ring)}
.cal-legend{display:flex;gap:20px;align-items:center;margin-top:12px;color:var(--muted);font-size:.9rem}
.dot{width:10px;height:10px;border-radius:999px;display:inline-block;margin-right:6px}
.dot-has{background:var(--brand-1)} .dot-today{background:var(--ok)}
/* FAB / feedback */
.fab{position:fixed;right:18px;bottom:18px;width:60px;height:60px;border-radius:999px;background:linear-gradient(180deg,#26d07c,#18c07a);color:#fff;font-size:30px;border:0;box-shadow:var(--shadow);z-index:15}
.fab:focus-visible{outline:none;box-shadow:var(--ring)}
.toast,.errbox{position:fixed;left:50%;transform:translateX(-50%);bottom:96px;padding:12px 16px;border-radius:10px;box-shadow:var(--shadow);z-index:40}
.toast{background:#fff;border:1px solid var(--line)} .errbox{background:#d32f2f;color:#fff}
.muted{color:var(--muted)} .center{text-align:center} .tiny{font-size:.85rem}
.footer{padding:28px 16px;color:var(--muted);text-align:center}
.visualmente-oculto{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}