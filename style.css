/* ===== Tema: Dark (padrão) ===== */
:root{
  --bg:#0b1420; --panel:#0f2031; --card:#0f2235; --muted:#b8c9dc;
  --primary:#0B74B8; --secondary:#18C07A; --danger:#e74c3c; --white:#fff;
  --text: clamp(16px, 3.9vw, 18px);
  --text-lg: clamp(18px, 4.6vw, 20px);
  --text-xl: clamp(20px, 5.6vw, 24px);
  --radius:16px; --space:12px;
  --line:#203247; --surface:#13263a; --hover:rgba(255,255,255,.08);
  --shadow:0 10px 26px rgba(0,0,0,.30);
}

/* ===== Tema: Light ===== */
html[data-theme="light"]{
  --bg:#f6f9fc; --panel:#ffffff; --card:#ffffff; --muted:#55657a;
  --primary:#0a6ccf; --secondary:#18A06F; --danger:#d6463a;
  --line:#e4e9f0; --surface:#f0f5fb; --hover:rgba(0,0,0,.06);
  --shadow:0 10px 22px rgba(0,0,0,.08);
}

*{box-sizing:border-box}
html{scroll-behavior:smooth}
html,body{
  margin:0; padding:0; background:var(--bg); color:#e6f0ff;
  font:400 var(--text)/1.55 system-ui,-apple-system,Segoe UI,Roboto;
  overflow-x:hidden; transition:background .2s ease,color .2s ease;
}
html[data-theme="light"], html[data-theme="light"] body{ color:#0b1b2b; }
img{max-width:100%;height:auto;display:block}
:focus-visible{outline:2px solid var(--primary); outline-offset:2px}

/* ===== AUMENTOS para telas pequenas ===== */
@media (max-width: 720px){
  :root{
    --text: 18px;
    --text-lg: 20px;
    --text-xl: 24px;
  }
  .btn{padding:14px 18px}
  input,select,textarea{padding:12px}
  .cal-hit{font-size:1.15em}
}

/* Topbar */
.topbar{
  background:linear-gradient(90deg,var(--primary),#15a16e);
  color:#fff; padding:10px 12px; position:sticky; top:0; z-index:8;
  display:flex; align-items:center; gap:10px; box-shadow:var(--shadow)
}
.icon{padding:8px 10px;border-radius:999px}
.icon:hover{background:var(--hover)}
.brand{display:flex;gap:8px;align-items:center;font-weight:800;font-size:var(--text-lg)}
.container{max-width:1100px;margin:14px auto;padding:0 10px}

/* Drawer */
.drawer{position:fixed;inset:0 auto 0 0;width:290px;background:var(--panel);
  border-right:1px solid var(--line);transform:translateX(-100%);transition:transform .18s ease;z-index:9;padding:16px}
.drawer.open{transform:none}
.drawer-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.drawer-nav{display:grid;gap:8px}
.drawer-item{background:var(--surface);border:1px solid var(--line);color:inherit;border-radius:12px;padding:12px;text-align:left}
.drawer-item:hover{background:var(--hover)}
.backdrop{position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:8}

/* Botões */
.btn{appearance:none;border:1px solid #2b3a4a;background:#13283b;color:#e6f0ff;border-radius:999px;padding:12px 16px;cursor:pointer;font-size:inherit;transition:transform .06s ease,opacity .15s,box-shadow .15s}
html[data-theme="light"] .btn{background:#eaf1f9;color:#0b1b2b;border-color:#cfe0f2}
.btn:hover{opacity:.92; box-shadow:0 8px 20px rgba(0,0,0,.18)}
.btn:active{transform:scale(.98)}
.btn.primary{background:linear-gradient(90deg,var(--primary),#15a16e);border:0;color:#fff;font-weight:800}
.btn.ghost{background:transparent;border-color:#3a5066}
html[data-theme="light"] .btn.ghost{border-color:#cfe0f2}
.btn.link{background:transparent;border:0;text-decoration:underline}
.btn.danger{background:var(--danger);border:0;color:#fff}
.fab{position:fixed;right:16px;bottom:16px;background:#22c55e;width:56px;height:56px;border-radius:50%;border:0;color:#fff;font-size:26px;box-shadow:0 12px 30px rgba(0,0,0,.25)}

/* Cartões / textos */
.card{background:var(--card); border:1px solid var(--line); border-radius:var(--radius); padding:14px; box-shadow:var(--shadow); margin-bottom:14px}
.center{text-align:center}
.muted{color:var(--muted)}
.tiny{font-size:.92em}

/* Formulários */
.form label{display:grid;gap:6px;margin-bottom:8px}
input,select,textarea{background:var(--surface);border:1px solid var(--line);color:inherit;border-radius:10px;padding:10px}

/* Métricas */
.metrics{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:14px}
.metric{background:linear-gradient(180deg,rgba(16,39,60,.8),rgba(13,33,51,.8));border:1px solid var(--line);border-radius:14px;padding:12px;text-align:center}
html[data-theme="light"] .metric{background:#ffffff}
.metric .k{color:var(--muted)}
.metric .v{font-size:var(--text-xl);font-weight:900}

/* Calendário */
.calendar .cal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.calendar .cal-title{font-weight:800}
.cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px}
.cal-cell{aspect-ratio:1/1;border-radius:14px;background:var(--surface);border:1px solid var(--line);position:relative}
.cal-out{opacity:.36}
.cal-today{outline:2px solid var(--secondary)}
.cal-hit{all:unset;cursor:pointer;display:grid;place-items:center;width:100%;height:100%;font-size:1.06em; position:relative}
.cal-dot{position:absolute;right:8px;bottom:8px;width:9px;height:9px;border-radius:50%;background:#19d38a;box-shadow:0 0 0 3px rgba(24,192,122,.14)}

/* Lista/Tabela – sem rolagem interna */
.table-wrapper{overflow:visible !important; max-height:none}
.table{width:100%;border-collapse:collapse}
.table thead th{border-bottom:1px solid var(--line);padding:10px 8px;text-align:left;background:var(--card);position:sticky;top:0;z-index:1}
.table td{border-bottom:1px solid var(--line);padding:10px 8px;text-align:left;vertical-align:top}
.table tbody tr:nth-child(even){background:rgba(255,255,255,.02)}
html[data-theme="light"] .table tbody tr:nth-child(even){background:#f6f9ff}

/* Badges/Chips */
.badge{background:#0B74B8;color:#fff;border-radius:999px;padding:3px 7px}
.badge.ok{background:#159f6d}
.badge.warn{background:#d8893a}
.chip{display:inline-block;background:var(--surface);border:1px solid var(--line);border-radius:999px;padding:3px 7px;margin:4px 6px 0 0;color:inherit}

/* Mensagens */
.toast{position:fixed;left:50%;bottom:16px;transform:translateX(-50%);background:var(--surface);border:1px solid var(--line);padding:10px 14px;border-radius:999px;z-index:9}
.errbox{position:fixed;left:50%;bottom:76px;transform:translateX(-50%);background:#3b1215;color:#ffdede;border:1px solid #7d2b31;padding:10px 14px;border-radius:10px;z-index:9}
.footer{opacity:.7;text-align:center;margin:14px 0}

/* ===== Ações (desktop) ===== */
.row-actions{display:flex;flex-wrap:wrap;gap:6px}

/* ===== Tabela responsiva (mobile) ===== */
@media (max-width: 720px){
  .table thead{ display:none; }
  .table tr{
    display:block;
    background:var(--card);
    border:1px solid var(--line);
    border-radius:12px;
    box-shadow:var(--shadow);
    padding:12px;
    margin-bottom:12px;
  }
  .table td{
    display:grid;
    grid-template-columns: 120px 1fr; /* rótulo | valor */
    gap:8px;
    border-bottom:0;
    padding:10px 4px;
    word-break:break-word;
  }
  .table td::before{
    content: attr(data-label);
    color: var(--muted);
    font-weight:600;
  }
  .table td[data-label="Ações"]{
    grid-template-columns: 1fr;
  }
  .table td[data-label="Ações"] .btn{
    margin-bottom:6px;
    width:100%;
  }
}