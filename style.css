/* =========================
   BASE: Cores, fontes, escala
   ========================= */
:root{
  /* Cores & estrutura */
  --bg:#071521;
  --panel:#0e2133;
  --ink:#e6f1ff;
  --muted:#9fb7d1;
  --brand:#0B74B8;
  --ok:#159f6d;
  --warn:#d8893a;
  --err:#d44b4b;
  --line:#2a3a4c;
  --radius:14px;
  --shadow:0 6px 18px rgba(0,0,0,.25);

  /* Tipografia (ROTA A – system-ui) */
  --font-sans: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji","Segoe UI Emoji";
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  /* Escala fluida */
  --fs-xs:  clamp(12px,  2.8vw, 13px);
  --fs-sm:  clamp(13px,  3.2vw, 14px);
  --fs-md:  clamp(15px,  3.6vw, 16px); /* corpo */
  --fs-lg:  clamp(17px,  4.2vw, 18px); /* botões/labels */
  --fs-xl:  clamp(19px,  4.8vw, 22px); /* subtítulos */
  --fs-2xl: clamp(22px,  5.6vw, 26px); /* títulos de seção */
  --fs-3xl: clamp(26px,  6.8vw, 32px); /* título principal */

  --lh-tight:   1.25;
  --lh-normal:  1.55;
  --lh-relaxed: 1.7;

  --track-tight:  -0.01em;
  --track-normal:  0;
  --track-wide:    0.02em;

  /* Alvo mínimo de toque */
  --touch: 44px;
}

/* =========================
   Reset/estrutura
   ========================= */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: var(--font-sans);
  font-size: var(--fs-md);
  line-height: var(--lh-normal);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background:var(--bg);
  color:var(--ink);
}

a{color:var(--brand); text-decoration:none}
a:hover{text-decoration:underline}

.container{max-width:940px;margin:24px auto;padding:0 16px}

/* =========================
   Topbar / Navegação
   ========================= */
.topbar{
  display:flex; justify-content:space-between; align-items:center;
  padding:14px 16px; border-bottom:1px solid var(--line); background:#081928; position:sticky; top:0; z-index:10
}
.nav a{margin-left:14px;color:#cfe3ff}
.nav a[aria-current="page"]{font-weight:600}

/* marca do condomínio mais visível */
.topbar .brand span{
  font-weight:700;
  font-size:var(--fs-xl);
  letter-spacing:var(--track-tight);
}

/* =========================
   Cartões, linhas, botões
   ========================= */
.card{
  background:var(--panel); border:1px solid var(--line); border-radius:var(--radius);
  padding:16px; margin:16px 0; box-shadow:var(--shadow)
}
.row{display:flex; align-items:center}
.row.gap{gap:10px}
.row.right{justify-content:flex-end}

.btn{
  appearance:none; border:1px solid var(--brand); background:var(--brand);
  color:#fff; padding:12px 16px; border-radius:12px; cursor:pointer;
  min-height: var(--touch); min-width: var(--touch);
  font-size: var(--fs-lg);
}
.btn.ghost{background:transparent; color:var(--brand)}
.btn:disabled{opacity:.6; cursor:not-allowed}

/* =========================
   Tipografia auxiliar
   ========================= */
.muted{color:var(--muted)}
.tiny, .small{font-size:var(--fs-sm)}
h1, .h1 { font-size: var(--fs-3xl); line-height: var(--lh-tight); letter-spacing: var(--track-tight); margin: 0 0 8px; }
h2, .h2 { font-size: var(--fs-2xl); line-height: var(--lh-tight); letter-spacing: var(--track-tight); margin: 16px 0 8px; }
h3, .h3 { font-size: var(--fs-xl);  line-height: var(--lh-tight); margin: 16px 0 6px; }
h4, .h4 { font-size: var(--fs-lg);  line-height: var(--lh-tight); margin: 12px 0 6px; }
p,  .p  { font-size: var(--fs-md);  margin: 8px 0; }

/* utilitário pedido (substitui style inline) */
.mt-8px { margin-top: 8px; }

/* utilitários tipográficos (opcional) */
.text-xs{font-size:var(--fs-xs)} .text-sm{font-size:var(--fs-sm)} .text-md{font-size:var(--fs-md)}
.text-lg{font-size:var(--fs-lg)} .text-xl{font-size:var(--fs-xl)} .text-2xl{font-size:var(--fs-2xl)} .text-3xl{font-size:var(--fs-3xl)}
.leading-tight{line-height:var(--lh-tight)} .leading-normal{line-height:var(--lh-normal)} .leading-relaxed{line-height:var(--lh-relaxed)}
.tracking-tight{letter-spacing:var(--track-tight)} .tracking-normal{letter-spacing:var(--track-normal)} .tracking-wide{letter-spacing:var(--track-wide)}
.weight-400{font-weight:400} .weight-500{font-weight:500} .weight-600{font-weight:600} .weight-700{font-weight:700}

/* =========================
   Tabela / Badges / Mensagens
   ========================= */
.table-wrapper { overflow: visible; max-height: none; } /* (removido !important) */
.table{
  width:100%; border-collapse:collapse; border:1px solid var(--line); border-radius:10px; overflow:hidden
}
.table th,.table td{ padding:12px; border-bottom:1px solid var(--line)}
.table th{text-align:left; color:#cfe3ff; background:#0b1f31}
.table tr:last-child td{border-bottom:none}
.status{display:inline-block; padding:3px 8px; border-radius:999px; font-size:13px}
.status.ok{background:rgba(21,159,109,.15); color:#b6ffd7; border:1px solid #1e8e63}
.status.warn{background:rgba(216,137,58,.15); color:#ffe0b6; border:1px solid #b07734}
.status.wait{background:rgba(11,116,184,.15); color:#cfe3ff; border:1px solid #0B74B8}

.badge{background:#0B74B8;color:#fff;border-radius:999px;padding:3px 7px}
.badge.ok{background:#159f6d}
.badge.warn{background:#d8893a}
.chip{display:inline-block;background:#0e2133;border:1px solid var(--line);border-radius:999px;padding:3px 7px;margin:4px 6px 0 0;color:#cfe3ff}

.toast{
  position:fixed;left:50%;bottom:16px;transform:translateX(-50%);
  background:#0e2133;border:1px solid var(--line);padding:10px 14px;border-radius:999px;z-index:9
}
.errbox{
  position:fixed;left:50%;bottom:76px;transform:translateX(-50%);
  background:#2a0f14;border:1px solid #7d2b31;padding:10px 14px;border-radius:10px;z-index:9
}
.footer{opacity:.7;text-align:center;margin:14px 0}

/* MODO opcional para liberar overflow só onde precisar */
.table-unclipped .table-wrapper { overflow: visible; max-height: none; }

/* =========================
   Calendário (grade + hotfix) — compatível com app.js
   ========================= */

/* Cabeçalho do calendário: setas compactas */
.cal-header .btn{
  padding:8px 10px !important;
  min-width:0 !important;
  min-height:0 !important;
}

/* Grade: 7 colunas fixas */
#cal-grid{
  display:grid !important;
  grid-template-columns:repeat(7, minmax(0,1fr)) !important;
  gap:6px !important;
  width:100% !important;
}

/* Cada célula comporta o botão e precisa ser o referencial da bolinha */
#cal-grid .cal-cell{
  position: relative;
  display:block;
  width:100%;
}

/* Botão de dia — neutraliza qualquer herança global, ocupa toda a célula */
#cal-grid .cal-hit{
  box-sizing:border-box;
  display:grid;
  place-items:center;

  width:100% !important;
  min-width:0 !important;   /* evita estourar a grade */
  padding:0 !important;     /* sem pílula */

  font-size:1rem;
  min-height:44px;          /* alvo de toque confortável */

  border:none;
  border-radius:10px;
  background:transparent;
  color:inherit;
  cursor:pointer;
}

/* Deixa o dia quadrado quando suportado */
@supports (aspect-ratio: 1 / 1){
  #cal-grid .cal-hit{
    aspect-ratio:1/1;
    min-height:0;
  }
}

/* Bolinha verde já vem como .cal-dot no app.js; reforço de posição */
#cal-grid .cal-dot{
  position:absolute;
  right:8px; bottom:8px;
  width:9px; height:9px; border-radius:50%;
  background:#19d38a;
  box-shadow:0 0 0 3px rgba(24,192,122,.14);
}

/* Hoje e fora do mês (se quiser destacar) */
#cal-grid .cal-today .cal-hit{ outline:2px solid rgba(11,116,184,.6); outline-offset:-2px; }
#cal-grid .cal-out .cal-hit{ opacity:.55; }

/* =========================
   Responsivo
   ========================= */
@media (max-width: 480px){
  html{ font-size:112.5%; }      /* ~18px base */
  .topbar{ padding:16px; }
  .btn{ padding:14px 18px; }
  .nav a{ padding:12px 10px; }

  #cal-grid{ gap:4px !important; }
  #cal-grid .cal-hit{
    font-size:0.95rem;
    min-height:40px;
  }
}

/* (Opcional) Botões de ação na tabela: versão compacta */
.table .btn.tiny{
  min-height:auto;
  min-width:auto;
  padding:8px 10px;
  font-size: var(--fs-sm);
  border-radius:10px;
}